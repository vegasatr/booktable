#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
import os
import asyncio
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from openai import OpenAI

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI
openai_model = os.getenv('OPENAI_MODEL', 'gpt-4o')
client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))

async def analyze_dialogue_decision(conversation_history, budget="$$"):
    """
    –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–∏–∞–ª–æ–≥ –∏–ª–∏ –∏—Å–∫–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã
    """
    try:
        # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ - –í–ï–°–¨ –¥–∏–∞–ª–æ–≥, –≤–∫–ª—é—á–∞—è –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞
        conversation_context = []
        for msg in conversation_history:
            if msg['role'] == 'user':
                conversation_context.append(f"–ö–ª–∏–µ–Ω—Ç: {msg['content']}")
            elif msg['role'] == 'assistant':
                conversation_context.append(f"–ë–æ—Ç: {msg['content']}")
        
        full_context = '\n'.join(conversation_context)
        
        # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏
        decision_prompt = f"""–¢—ã –æ–ø—ã—Ç–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º –ü—Ö—É–∫–µ—Ç–∞. –í–µ–¥–µ—à—å –∂–∏–≤—É—é –±–µ—Å–µ–¥—É —Å –∫–ª–∏–µ–Ω—Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –µ–≥–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è.

–ö–û–ù–¢–ï–ö–°–¢:
- –ë—é–¥–∂–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ —É–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω: {budget}
- –ü–û–õ–ù–ê–Ø –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:
{full_context}

–¢–í–û–Ø –ó–ê–î–ê–ß–ê:
1. –ü–†–û–ê–ù–ê–õ–ò–ó–ò–†–£–ô –í–°–Æ –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –∏ —Å–¥–µ–ª–∞–π –£–ú–ù–´–ï –í–´–í–û–î–´ –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –∫–ª–∏–µ–Ω—Ç–∞
2. –ï—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –î–û–°–¢–ê–¢–û–ß–ù–û –¥–ª—è –ø–æ–∏—Å–∫–∞ 1-3 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ - –æ—Ç–≤–µ—Ç—å "–ü–û–ò–°–ö"
3. –ï—Å–ª–∏ –Ω–µ—Ç - –≤–µ–¥–∏ –∂–∏–≤—É—é –±–µ—Å–µ–¥—É, –∑–∞–¥–∞–≤–∞—è –¢–û–õ–¨–ö–û –ø–æ–ª–µ–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–ü–†–ò–ù–¶–ò–ü–´ –ê–ù–ê–õ–ò–ó–ê:
üß† –î–£–ú–ê–ô –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ - —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –†–ï–ê–õ–¨–ù–û –∏–º–µ–µ—Ç –≤ –≤–∏–¥—É?
üß† –î–ï–õ–ê–ô –í–´–í–û–î–´ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ - –µ—Å–ª–∏ —É–ø–æ–º–∏–Ω–∞–µ—Ç –¥–µ—Ç–µ–π, —Å–µ–º—å—é, —Å–≤–∏–¥–∞–Ω–∏–µ, —Ä–∞–±–æ—Ç—É - —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –¥–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã?
üß† –ü–û–ù–ò–ú–ê–ô –ø–æ–¥—Ç–µ–∫—Å—Ç - "—Ä–∞–±–æ—á–∏–π –æ–±–µ–¥" = –¥–µ–ª–æ–≤–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, "–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è" = –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–∞—è, "—Å –¥–µ—Ç—å–º–∏" = —Å–µ–º–µ–π–Ω–∞—è
üß† –ù–ï —Ç—Ä–µ–±—É–π –ø—Ä—è–º—ã—Ö —Å–ª–æ–≤ - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –°–ú–´–°–õ —Å–∫–∞–∑–∞–Ω–Ω–æ–≥–æ
üß† –£–ß–ò–¢–´–í–ê–ô –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞ - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π —É–∂–µ –∑–∞–¥–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
üß† –†–ê–ó–í–ò–í–ê–ô –¥–∏–∞–ª–æ–≥ –ª–æ–≥–∏—á–Ω–æ - –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —É–≥–ª—É–±–ª—è—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ

–ö–†–ò–¢–ï–†–ò–ô –î–õ–Ø –ü–û–ò–°–ö–ê:
–ï—Å–ª–∏ —Ç—ã –º–æ–∂–µ—à—å –ü–û–ù–Ø–¢–¨ –∏–∑ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:
- –¢–∏–ø –∫—É—Ö–Ω–∏/–µ–¥—ã + –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ/–ª–æ–∫–∞—Ü–∏–∏/–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö
- –ò–õ–ò –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: "—Å—É—à–∏-–±–∞—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ –¥–ª—è –¥–≤–æ–∏—Ö")
- –ò–õ–ò –∫–ª–∏–µ–Ω—Ç –¥–∞–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ—Ç–∞–ª–µ–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –µ–≥–æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
- –ò–õ–ò —É–ø–æ–º—è–Ω—É–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è + –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∫—Ç–æ –∏–¥–µ—Ç, –∑–∞—á–µ–º)

–ü–†–ò–ú–ï–†–´ –ì–û–¢–û–í–ù–û–°–¢–ò –ö –ü–û–ò–°–ö–£:
‚úÖ "–∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é –∫—É—Ö–Ω—é –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ" = –¢–ò–ü –ö–£–•–ù–ò + –ê–¢–ú–û–°–§–ï–†–ê
‚úÖ "–º—è—Å–Ω–æ–µ —Å –¥–µ—Ç—å–º–∏" = –¢–ò–ü –ï–î–´ + –ê–¢–ú–û–°–§–ï–†–ê  
‚úÖ "—Å—É—à–∏-–±–∞—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ –¥–ª—è –¥–≤–æ–∏—Ö" = –ö–û–ù–ö–†–ï–¢–ù–û–ï –ó–ê–í–ï–î–ï–ù–ò–ï + –ö–û–ù–¢–ï–ö–°–¢
‚úÖ "–µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é, —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏" = –ö–£–•–ù–Ø + –ê–¢–ú–û–°–§–ï–†–ê + –¶–ï–õ–¨
‚ùå "—Å –¥—Ä—É–∑—å—è–º–∏ –ø–æ–≤–µ—Å–µ–ª–∏—Ç—å—Å—è" = –¢–û–õ–¨–ö–û –ê–¢–ú–û–°–§–ï–†–ê, –ù–ï–¢ –¢–ò–ü–ê –ö–£–•–ù–ò/–ï–î–´

–í–ê–ñ–ù–û:
- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –∂–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ - –î–£–ú–ê–ô –Ω–∞–¥ –∫–∞–∂–¥—ã–º —Å–ª—É—á–∞–µ–º
- –ù–ï —Å–ø—Ä–∞—à–∏–≤–∞–π –æ –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–æ–∂–∞—Ä–∫–∞, —Å–ø–æ—Å–æ–±—ã –≥–æ—Ç–æ–≤–∫–∏)
- –ù–ï –∑–∞–¥–∞–≤–∞–π –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É–∂–µ –ø–æ–Ω—è—Ç–Ω–∞ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ë–£–î–¨ —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–º - –ª—É—á—à–µ –Ω–∞—á–∞—Ç—å –ø–æ–∏—Å–∫, —á–µ–º –∑–∞—Ç—è–≥–∏–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥
- –ê–ù–ê–õ–ò–ó–ò–†–£–ô –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ü–û–ú–ù–ò —á—Ç–æ —É–∂–µ —Å–ø—Ä–∞—à–∏–≤–∞–ª –±–æ—Ç - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π—Å—è

–û—Ç–≤–µ—á–∞–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "–í—ã"."""

        last_user_message = ""
        for msg in reversed(conversation_history):
            if msg['role'] == 'user':
                last_user_message = msg['content']
                break
        
        messages = [
            {"role": "system", "content": decision_prompt},
            {"role": "user", "content": last_user_message}
        ]
        
        response = client.chat.completions.create(
            model=openai_model,
            messages=messages,
            temperature=0.7,
            max_tokens=150
        )
        
        ai_response = response.choices[0].message.content.strip()
        should_search = "–ü–û–ò–°–ö" in ai_response
        
        return {
            "should_search": should_search,
            "ai_response": ai_response,
            "conversation_context": full_context
        }
        
    except Exception as e:
        print(f"Error in AI analysis: {e}")
        return {
            "should_search": False,
            "ai_response": "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –±–æ–ª—å—à–µ –æ –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö",
            "conversation_context": full_context if 'full_context' in locals() else ""
        }

async def simulate_realistic_dialogue(scenario):
    """–°–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å —Ä–∞–∑–≤–∏—Ç–∏–µ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞"""
    print(f"\nüé≠ –°—Ü–µ–Ω–∞—Ä–∏–π: {scenario['name']}")
    print("=" * 60)
    
    conversation_history = []
    step = 1
    
    for turn in scenario['turns']:
        print(f"\n–®–∞–≥ {step}:")
        
        if turn['type'] == 'user':
            conversation_history.append({"role": "user", "content": turn['message']})
            print(f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {turn['message']}")
            
            analysis = await analyze_dialogue_decision(conversation_history, scenario.get('budget', '$$'))
            
            if analysis['should_search']:
                print(f"ü§ñ –ë–æ—Ç —Ä–µ—à–∏–ª: –ü–û–ò–°–ö –†–ï–°–¢–û–†–ê–ù–û–í")
                print(f"üí≠ AI –æ—Ç–≤–µ—Ç: {analysis['ai_response']}")
                
                expected_decision = turn.get('expected_decision', 'continue')
                if expected_decision == 'search':
                    print("‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï - –ø–æ—Ä–∞ –∏—Å–∫–∞—Ç—å!")
                    return True
                else:
                    print("‚ùå –°–õ–ò–®–ö–û–ú –†–ê–ù–û - –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏")
                    return False
            else:
                print(f"ü§ñ –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–∏–∞–ª–æ–≥: {analysis['ai_response']}")
                conversation_history.append({"role": "assistant", "content": analysis['ai_response']})
                
                expected_decision = turn.get('expected_decision', 'continue')
                if expected_decision == 'search':
                    print("‚ùå –°–õ–ò–®–ö–û–ú –ü–û–ó–î–ù–û - –¥–æ–ª–∂–µ–Ω –±—ã–ª —É–∂–µ –∏—Å–∫–∞—Ç—å!")
                    return False
        
        elif turn['type'] == 'bot':
            conversation_history.append({"role": "assistant", "content": turn['message']})
            print(f"ü§ñ –ë–æ—Ç: {turn['message']}")
        
        step += 1
    
    final_expected = scenario.get('final_expected', 'search')
    if final_expected == 'search':
        print("‚ùå –î–ò–ê–õ–û–ì –ù–ï –ó–ê–í–ï–†–®–ï–ù - –¥–æ–ª–∂–µ–Ω –±—ã–ª –Ω–∞—á–∞—Ç—å –ø–æ–∏—Å–∫")
        return False
    else:
        print("‚úÖ –î–ò–ê–õ–û–ì –ö–û–†–†–ï–ö–¢–ù–û –ü–†–û–î–û–õ–ñ–ê–ï–¢–°–Ø")
        return True

async def run_comprehensive_tests():
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å 50 —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏"""
    
    scenarios = [
        # === –ë–´–°–¢–†–´–ï –°–¶–ï–ù–ê–†–ò–ò (1-2 –≤–æ–ø—Ä–æ—Å–∞) ===
        {
            "name": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å - —Å—É—à–∏ –¥–ª—è –¥–≤–æ–∏—Ö",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Å—É—à–∏-–±–∞—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ –¥–ª—è –¥–≤–æ–∏—Ö", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å - –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–µ–Ω –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –Ω–∞ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å - —Å—Ç–µ–π–∫—Ö–∞—É—Å –¥–ª—è –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏",
            "budget": "$$$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Å—Ç–µ–π–∫—Ö–∞—É—Å –¥–ª—è –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏, —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å - —Ç–∞–π—Å–∫–∞—è –∫—É—Ö–Ω—è —Å –¥–µ—Ç—å–º–∏",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ç–∞–π—Å–∫—É—é –∫—É—Ö–Ω—é, –∏–¥–µ–º —Å –¥–µ—Ç—å–º–∏", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å - –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã —É –º–æ—Ä—è",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ", "expected_decision": "search"}
            ]
        },
        
        # === –°–†–ï–î–ù–ò–ï –°–¶–ï–ù–ê–†–ò–ò (2-3 –≤–æ–ø—Ä–æ—Å–∞) ===
        {
            "name": "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ - —É—Ç–æ—á–Ω–µ–Ω–∏–µ –∫—É—Ö–Ω–∏",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –¥–ª—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞?"},
                {"type": "user", "message": "–∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é, —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–°–µ–º–µ–π–Ω—ã–π —É–∂–∏–Ω - —É—Ç–æ—á–Ω–µ–Ω–∏–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ—É–∂–∏–Ω–∞—Ç—å —Å —Å–µ–º—å–µ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—á—Ç–æ-—Ç–æ –º—è—Å–Ω–æ–µ, –∏ —á—Ç–æ–±—ã –¥–µ—Ç—è–º –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–î–µ–ª–æ–≤–æ–π –æ–±–µ–¥ - –±—ã—Å—Ç—Ä–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–µ–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é, —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–ø—Ä–∞–∑–¥–Ω—É–µ–º –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∏ —Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –±—É–¥–µ—Ç?"},
                {"type": "user", "message": "–∞–∑–∏–∞—Ç—Å–∫—É—é, –Ω–∞—Å –±—É–¥–µ—Ç 6 —á–µ–ª–æ–≤–µ–∫", "expected_decision": "search"}
            ]
        },
        {
            "name": "–£–∂–∏–Ω —Å –¥—Ä—É–∑—å—è–º–∏ - –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—É–∂–∏–Ω —Å –¥—Ä—É–∑—å—è–º–∏, —Ö–æ—Ç–∏–º –ø–æ–≤–µ—Å–µ–ª–∏—Ç—å—Å—è", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∏ —á—Ç–æ–±—ã –º—É–∑—ã–∫–∞ –±—ã–ª–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ó–∞–≤—Ç—Ä–∞–∫/–±—Ä–∞–Ω—á",
            "budget": "$",
            "turns": [
                {"type": "user", "message": "–∏—â—É –º–µ—Å—Ç–æ –¥–ª—è –±—Ä–∞–Ω—á–∞", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é, —Å —Ö–æ—Ä–æ—à–∏–º –∫–æ—Ñ–µ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ü–æ–∑–¥–Ω–∏–π —É–∂–∏–Ω",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–Ω–æ –º–µ—Å—Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–ø–æ–∑–¥–Ω–∞", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –∏—â–µ—Ç–µ?"},
                {"type": "user", "message": "–∞–∑–∏–∞—Ç—Å–∫—É—é, –∏ —á—Ç–æ–±—ã –ø–æ—Å–ª–µ 23:00 —Ä–∞–±–æ—Ç–∞–ª–∏", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è–º–∏",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –≥–¥–µ –µ—Å—Ç—å —à–æ—É", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–æ–µ —à–æ—É –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏ –∫–∞–∫–∞—è –∫—É—Ö–Ω—è?"},
                {"type": "user", "message": "—Ç–∞–π—Å–∫–∏–µ —Ç–∞–Ω—Ü—ã –∏ —Ç–∞–π—Å–∫–∞—è –∫—É—Ö–Ω—è", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —É –ø–ª—è–∂–∞",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–µ—Å—Ç—å –ø—Ä—è–º–æ –Ω–∞ –ø–ª—è–∂–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã, —Å–≤–µ–∂—É—é —Ä—ã–±—É", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ë—ã—Å—Ç—Ä—ã–π –æ–±–µ–¥",
            "budget": "$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–æ–±–µ–¥–∞—Ç—å", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—á—Ç–æ-—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ, —Ç–∞–π—Å–∫—É—é —É–ª–∏—á–Ω—É—é –µ–¥—É", "expected_decision": "search"}
            ]
        },
        
        # === –†–ê–ó–í–ï–†–ù–£–¢–´–ï –°–¶–ï–ù–ê–†–ò–ò (3-4 –≤–æ–ø—Ä–æ—Å–∞) ===
        {
            "name": "–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç - –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤—ã—è—Å–Ω–µ–Ω–∏–µ",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–µ—Å—Ç—å", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–Ω–µ –∑–Ω–∞—é, —á—Ç–æ-—Ç–æ –≤–∫—É—Å–Ω–æ–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ê –∫–∞–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –±—É–¥–µ—Ç?"},
                {"type": "user", "message": "—Å –∂–µ–Ω–æ–π, —Ö–æ—Ç–∏–º —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–í—ã–±–æ—Ä –º–µ–∂–¥—É –∫—É—Ö–Ω—è–º–∏",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–¥—É–º–∞—é –º–µ–∂–¥—É —è–ø–æ–Ω—Å–∫–æ–π –∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ê –∫–∞–∫–æ–π –ø–æ–≤–æ–¥ –¥–ª—è —É–∂–∏–Ω–∞?"},
                {"type": "user", "message": "–≥–æ–¥–æ–≤—â–∏–Ω–∞ —Å–≤–∞–¥—å–±—ã, —Ö–æ—á–µ—Ç—Å—è –∏–∑—ã—Å–∫–∞–Ω–Ω–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–¢—É—Ä–∏—Å—Ç—ã - –∏–∑—É—á–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫—É—Ö–Ω–∏",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–º—ã —Ç—É—Ä–∏—Å—Ç—ã, —Ö–æ—Ç–∏–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–µ—Å—Ç–Ω—É—é –∫—É—Ö–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å —Ç–∞–π—Å–∫–æ–π –∫—É—Ö–Ω–µ–π –∏–ª–∏ —á–µ–º-—Ç–æ –µ—â–µ?"},
                {"type": "user", "message": "–¥–∞, —Ç–∞–π—Å–∫–∞—è –∑–≤—É—á–∏—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤–∞–º –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "–∞—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º –æ—Å—Ç—Ä–∞—è –µ–¥–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É–∂–∏–Ω",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–æ—Ä–≥–∞–Ω–∏–∑—É—é –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É–∂–∏–Ω", "expected_decision": "continue"},
                {"type": "bot", "message": "–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –∏ –∫–∞–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∫—É—Ö–Ω–µ?"},
                {"type": "user", "message": "—á–µ–ª–æ–≤–µ–∫ 12, –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∏–ª–∏ –∞–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è –ø–æ–¥–æ–π–¥–µ—Ç?"},
                {"type": "user", "message": "–µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –ª—É—á—à–µ, –∏ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–≤–µ—Å—Ç–∏", "expected_decision": "search"}
            ]
        },
        {
            "name": "–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–º–∏ –±–ª—é–¥–∞–º–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–∏–Ω–¥–∏–π—Å–∫—É—é –∏–ª–∏ —Å—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫—É—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "—Å–ø–æ–∫–æ–π–Ω–∞—è, –¥–ª—è –¥–≤–æ–∏—Ö", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å —Å–µ–º–µ–π–Ω–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Å–µ–º–µ–π–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–µ—Ç—Å–∫–æ–π –∑–æ–Ω–µ?"},
                {"type": "user", "message": "—á—Ç–æ–±—ã –¥–µ—Ç–∏ –º–æ–≥–ª–∏ –∏–≥—Ä–∞—Ç—å, –∞ –º—ã —Å–ø–æ–∫–æ–π–Ω–æ –ø–æ–µ—Å—Ç—å", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é, —á—Ç–æ–±—ã –≤—Å–µ–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å", "expected_decision": "search"}
            ]
        },
        {
            "name": "–í–∏–Ω–Ω—ã–π —É–∂–∏–Ω",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å —Ö–æ—Ä–æ—à–µ–π –≤–∏–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫—É—é, –∏ —á—Ç–æ–±—ã —Å–æ–º–µ–ª—å–µ –±—ã–ª", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ó–¥–æ—Ä–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∑–¥–æ—Ä–æ–≤–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è", "expected_decision": "continue"},
                {"type": "bot", "message": "–í–µ–≥–∞–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã?"},
                {"type": "user", "message": "–æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ, –º–Ω–æ–≥–æ –æ–≤–æ—â–µ–π –∏ —Ä—ã–±—ã", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –∫–∞–ª—å—è–Ω–æ–º",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ–∫—É—Ä–∏—Ç—å –∫–∞–ª—å—è–Ω", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–±–ª–∏–∂–Ω–µ–≤–æ—Å—Ç–æ—á–Ω—É—é –∏–ª–∏ –∏–Ω–¥–∏–π—Å–∫—É—é", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–Ω–æ –∫—Ä–∞—Å–∏–≤–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–æ–π –∏–Ω—Ç–µ—Ä—å–µ—Ä –∏—â–µ—Ç–µ?"},
                {"type": "user", "message": "–∏–Ω—Å—Ç–∞–≥—Ä–∞–º–Ω–æ–µ –º–µ—Å—Ç–æ —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ", "expected_decision": "search"}
            ]
        },
        
        # === –°–õ–û–ñ–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò (4-5 –≤–æ–ø—Ä–æ—Å–æ–≤) ===
        {
            "name": "–û—á–µ–Ω—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–µ—Å—Ç—å", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–Ω–µ –∑–Ω–∞—é, —á—Ç–æ-—Ç–æ –≤–∫—É—Å–Ω–æ–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ê –∫–∞–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –±—É–¥–µ—Ç?"},
                {"type": "user", "message": "—Å –¥—Ä—É–∑—å—è–º–∏, —Ö–æ—Ç–∏–º –ø–æ–≤–µ—Å–µ–ª–∏—Ç—å—Å—è", "expected_decision": "continue"},
                {"type": "bot", "message": "–ï—Å—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∫—É—Ö–Ω–µ - –∞–∑–∏–∞—Ç—Å–∫–∞—è, –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è, –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã?"},
                {"type": "user", "message": "–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∑–≤—É—á–∏—Ç —Ö–æ—Ä–æ—à–æ, –∏ —á—Ç–æ–±—ã –º—É–∑—ã–∫–∞ –±—ã–ª–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–ª–∏–µ–Ω—Ç —Å –∞–ª–ª–µ—Ä–≥–∏–µ–π",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –Ω–æ —É –º–µ–Ω—è –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—á—Ç–æ-—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, –º–æ–∂–µ—Ç –µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "—Å–ø–æ–∫–æ–π–Ω–∞—è, —É–∂–∏–Ω —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ï—Å—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏–∏?"},
                {"type": "user", "message": "–≤ —Ü–µ–Ω—Ç—Ä–µ, —á—Ç–æ–±—ã –ª–µ–≥–∫–æ –¥–æ–±—Ä–∞—Ç—å—Å—è", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ë–æ–ª—å—à–∞—è –≥—Ä—É–ø–ø–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∫—É—Å–∞–º–∏",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–Ω–∞—Å –±–æ–ª—å—à–∞—è –∫–æ–º–ø–∞–Ω–∏—è, –≤—Å–µ –ª—é–±—è—Ç —Ä–∞–∑–Ω–æ–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –∏ –∫–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è?"},
                {"type": "user", "message": "—á–µ–ª–æ–≤–µ–∫ 8, –∫—Ç–æ-—Ç–æ –ª—é–±–∏—Ç –º—è—Å–æ, –∫—Ç–æ-—Ç–æ —Ä—ã–±—É", "expected_decision": "continue"},
                {"type": "bot", "message": "–ù—É–∂–Ω–æ –º–µ—Å—Ç–æ —Å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º –º–µ–Ω—é?"},
                {"type": "user", "message": "–¥–∞, –∏ —á—Ç–æ–±—ã –±—ã–ª–æ –≤–µ—Å–µ–ª–æ, –º–æ–∂–µ—Ç —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∫—É—Ö–Ω—è –ø–æ–¥–æ–π–¥–µ—Ç –≤—Å–µ–º?"},
                {"type": "user", "message": "–Ω–∞–≤–µ—Ä–Ω–æ–µ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è", "expected_decision": "search"}
            ]
        },
        {
            "name": "–û—Å–æ–±—ã–π —Å–ª—É—á–∞–π - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ä—É–∫–∏ –∏ —Å–µ—Ä–¥—Ü–∞",
            "budget": "$$$$",
            "turns": [
                {"type": "user", "message": "–æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π —É–∂–∏–Ω, —Ö–æ—á—É —Å–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏—â–µ—Ç–µ –¥–ª—è —Ç–∞–∫–æ–≥–æ –æ—Å–æ–±–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞?"},
                {"type": "user", "message": "–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ, —Å –≤–∏–¥–æ–º –Ω–∞ –∑–∞–∫–∞—Ç", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –≤–∞—à–∞ –¥–µ–≤—É—à–∫–∞?"},
                {"type": "user", "message": "–æ–Ω–∞ –ª—é–±–∏—Ç –∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ù—É–∂–Ω–æ —É–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –∏–ª–∏ —Ç–µ—Ä—Ä–∞—Å–∞?"},
                {"type": "user", "message": "—Ç–µ—Ä—Ä–∞—Å–∞ —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ, –∏ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –º—É–∑—ã–∫–∞–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞—Ç—å", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ö–ª–∏–µ–Ω—Ç-–≥—É—Ä–º–∞–Ω —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏",
            "budget": "$$$$",
            "turns": [
                {"type": "user", "message": "–∏—â—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω –≤—ã—Å–æ–∫–æ–π –∫—É—Ö–Ω–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫—É—é –∏–ª–∏ –º–æ–ª–µ–∫—É–ª—è—Ä–Ω—É—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–í–∞–∂–µ–Ω –ª–∏ —à–µ—Ñ-–ø–æ–≤–∞—Ä –∏ –µ–≥–æ —Ä–µ–ø—É—Ç–∞—Ü–∏—è?"},
                {"type": "user", "message": "–¥–∞, —Ö–æ—á—É –º–∏—à–ª–µ–Ω–æ–≤—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "–∏–∑—ã—Å–∫–∞–Ω–Ω–∞—è, –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ –¥–µ–ª–æ–≤–æ–≥–æ —É–∂–∏–Ω–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫—É—Ö–Ω—è",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é —Ç–∞–π—Å–∫—É—é –∫—É—Ö–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–û—Å—Ç—Ä—É—é –∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤?"},
                {"type": "user", "message": "–Ω–∞—Å—Ç–æ—è—â—É—é –æ—Å—Ç—Ä—É—é, –∫–∞–∫ –µ–¥—è—Ç –º–µ—Å—Ç–Ω—ã–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "–∞—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è, –º–æ–∂–µ—Ç —É–ª–∏—á–Ω–∞—è –µ–¥–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –º—É–∑—ã–∫–æ–π",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –º—É–∑—ã–∫–∞ –∏ –∫—É—Ö–Ω—è?"},
                {"type": "user", "message": "–¥–∂–∞–∑ –∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å —Ç–µ—Ä—Ä–∞—Å–æ–π",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–µ—Å—Ç—å –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–æ–∑–¥—É—Ö–µ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –∏ –∫–∞–∫–æ–π –≤–∏–¥ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é —Å –≤–∏–¥–æ–º –Ω–∞ –≥–æ—Ä–æ–¥", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è –±–æ–ª—å—à–æ–π —Å–µ–º—å–∏",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—Å–µ–º–µ–π–Ω—ã–π —É–∂–∏–Ω, –Ω–∞—Å –º–Ω–æ–≥–æ", "expected_decision": "continue"},
                {"type": "bot", "message": "–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –∏ –∫–∞–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è?"},
                {"type": "user", "message": "15 —á–µ–ª–æ–≤–µ–∫, –Ω—É–∂–Ω–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –º–µ–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∫—É—Ö–Ω—è –ø–æ–¥–æ–π–¥–µ—Ç –≤—Å–µ–º?"},
                {"type": "user", "message": "–∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è, –∏ —á—Ç–æ–±—ã –¥–µ—Ç—è–º –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π",
            "budget": "$",
            "turns": [
                {"type": "user", "message": "–º–æ–∂–Ω–æ –ª–∏ –∑–∞–∫–∞–∑–∞—Ç—å –µ–¥—É –≤ –æ—Ç–µ–ª—å?", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å?"},
                {"type": "user", "message": "—Ç–∞–π—Å–∫—É—é, —Ç–æ–º —è–º –∏ –ø–∞–¥ —Ç–∞–π", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è –≤—Å–ª–µ–ø—É—é",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–ø–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ, –Ω–µ –∑–Ω–∞—é —á—Ç–æ –æ–Ω–∞ –ª—é–±–∏—Ç", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤—ã–±–µ—Ä–µ—Ç–µ?"},
                {"type": "user", "message": "–Ω–µ —Å–ª–∏—à–∫–æ–º —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ, –Ω–æ –ø—Ä–∏—è—Ç–Ω–æ", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∫—É—Ö–Ω—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è?"},
                {"type": "user", "message": "–Ω–∞–≤–µ—Ä–Ω–æ–µ –∏—Ç–∞–ª—å—è–Ω—Å–∫–∞—è, –≤—Å–µ –ª—é–±—è—Ç –ø–∞—Å—Ç—É", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è –≤—Å—Ç—Ä–µ—á–∏ –æ–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–æ–≤",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–≤—Å—Ç—Ä–µ—á–∞ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤, –Ω–∞—Å —á–µ–ª–æ–≤–µ–∫ 20", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞?"},
                {"type": "user", "message": "—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≥—Ä–æ–º–∫–æ –æ–±—â–∞—Ç—å—Å—è –∏ –≤–µ—Å–µ–ª–∏—Ç—å—Å—è", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—á—Ç–æ-—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ, –±–∞—Ä–±–µ–∫—é –∏–ª–∏ –≥—Ä–∏–ª—å", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è –ø–æ–∂–∏–ª—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—É–∂–∏–Ω —Å –ø–æ–∂–∏–ª—ã–º–∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å?"},
                {"type": "user", "message": "—Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ, –Ω–µ –æ—Å—Ç—Ä–∞—è –µ–¥–∞", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç?"},
                {"type": "user", "message": "–µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é, –ø—Ä–∏–≤—ã—á–Ω—É—é –µ–¥—É", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º",
            "budget": "$",
            "turns": [
                {"type": "user", "message": "–æ—á–µ–Ω—å –∂–∞—Ä–∫–æ, –Ω—É–∂–Ω–æ –º–µ—Å—Ç–æ —Å —Ö–æ—Ä–æ—à–∏–º –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "—á—Ç–æ-—Ç–æ –ª–µ–≥–∫–æ–µ, —Å–∞–ª–∞—Ç—ã –∏ —Ö–æ–ª–æ–¥–Ω—ã–µ –±–ª—é–¥–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –ø–∞—Ä–∫–æ–≤–∫–æ–π",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–µ–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å –ø–∞—Ä–∫–æ–≤–∫–æ–π", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏—â–µ—Ç–µ?"},
                {"type": "user", "message": "–∞–∑–∏–∞—Ç—Å–∫—É—é, —Å–µ–º–µ–π–Ω—ã–π —É–∂–∏–Ω", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å Wi-Fi",
            "budget": "$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ —É–∂–∏–Ω–æ–º", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω—É–∂–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã?"},
                {"type": "user", "message": "—Ç–∏—Ö–∞—è, —Å —Ö–æ—Ä–æ—à–∏–º Wi-Fi –∏ —Ä–æ–∑–µ—Ç–∫–∞–º–∏", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º –º–µ–Ω—é",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–Ω–µ –≥–æ–≤–æ—Ä—é –ø–æ-—Ç–∞–π—Å–∫–∏, –Ω—É–∂–Ω–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ –º–µ–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"},
                {"type": "user", "message": "–∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é, –ø–æ–Ω—è—Ç–Ω—É—é", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –¥–µ–≥—É—Å—Ç–∞—Ü–∏–æ–Ω–Ω—ã–º –º–µ–Ω—é",
            "budget": "$$$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–µ–≥—É—Å—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"},
                {"type": "user", "message": "–º–æ–ª–µ–∫—É–ª—è—Ä–Ω—É—é –∏–ª–∏ —Ñ—å—é–∂–Ω", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω –¥–ª—è –∞–ª–ª–µ—Ä–≥–∏–∫–∞",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "—É –º–µ–Ω—è –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –≥–ª—é—Ç–µ–Ω", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –º–æ–∂–µ—Ç–µ –µ—Å—Ç—å?"},
                {"type": "user", "message": "—Ç–∞–π—Å–∫—É—é –±–µ–∑ –ª–∞–ø—à–∏, —Ä–∏—Å –∏ –æ–≤–æ—â–∏", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –¥–µ—Ç—Å–∫–∏–º –º–µ–Ω—é",
            "budget": "$$",
            "turns": [
                {"type": "user", "message": "–Ω—É–∂–Ω–æ –¥–µ—Ç—Å–∫–æ–µ –º–µ–Ω—é", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö?"},
                {"type": "user", "message": "–µ–≤—Ä–æ–ø–µ–π—Å–∫—É—é, –∞ –¥–µ—Ç—è–º –ø—Ä–æ—Å—Ç—ã–µ –±–ª—é–¥–∞", "expected_decision": "search"}
            ]
        },
        {
            "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω —Å –∫–æ–∫—Ç–µ–π–ª—è–º–∏",
            "budget": "$$$",
            "turns": [
                {"type": "user", "message": "—Ö–æ—á—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å —Ö–æ—Ä–æ—à–∏–º–∏ –∫–æ–∫—Ç–µ–π–ª—è–º–∏", "expected_decision": "continue"},
                {"type": "bot", "message": "–ö–∞–∫—É—é –∫—É—Ö–Ω—é –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É?"},
                {"type": "user", "message": "–∞–∑–∏–∞—Ç—Å–∫—É—é —Ñ—å—é–∂–Ω, –º–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ", "expected_decision": "search"}
            ]
        }
    ]
    
    print("üß† –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 50 —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ —Å —Ä–∞–∑–≤–∏—Ç–∏–µ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞\n")
    print("üìä –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: –∑–∞ —Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ AI –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π\n")
    
    successful = 0
    total = len(scenarios)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —à–∞–≥–æ–≤
    steps_stats = {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, "5+": 0}
    
    for i, scenario in enumerate(scenarios, 1):
        print(f"\n{'='*80}")
        print(f"–¢–ï–°–¢ {i}/50")
        result = await simulate_realistic_dialogue(scenario)
        if result:
            successful += 1
            
            # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –ø–æ–∏—Å–∫–∞
            user_steps = len([turn for turn in scenario['turns'] if turn['type'] == 'user'])
            if user_steps <= 5:
                steps_stats[user_steps] += 1
            else:
                steps_stats["5+"] += 1
    
    print(f"\n{'='*80}")
    print(f"üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê")
    print(f"{'='*80}")
    
    accuracy = (successful / total) * 100
    print(f"‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤: {successful}/{total} ({accuracy:.1f}%)")
    
    print(f"\nüìà –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–û –ö–û–õ–ò–ß–ï–°–¢–í–£ –®–ê–ì–û–í –î–û –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:")
    print(f"üöÄ –ó–∞ 1 —à–∞–≥:  {steps_stats[1]} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats[1]/total*100:.1f}%)")
    print(f"‚ö° –ó–∞ 2 —à–∞–≥–∞: {steps_stats[2]} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats[2]/total*100:.1f}%)")
    print(f"‚ú® –ó–∞ 3 —à–∞–≥–∞: {steps_stats[3]} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats[3]/total*100:.1f}%)")
    print(f"üí´ –ó–∞ 4 —à–∞–≥–∞: {steps_stats[4]} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats[4]/total*100:.1f}%)")
    print(f"‚≠ê –ó–∞ 5 —à–∞–≥–æ–≤: {steps_stats[5]} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats[5]/total*100:.1f}%)")
    print(f"üêå –ë–æ–ª—å—à–µ 5:  {steps_stats['5+']} –¥–∏–∞–ª–æ–≥–æ–≤ ({steps_stats['5+']/total*100:.1f}%)")
    
    avg_steps = (1*steps_stats[1] + 2*steps_stats[2] + 3*steps_stats[3] + 4*steps_stats[4] + 5*steps_stats[5] + 6*steps_stats["5+"]) / total
    print(f"\nüìä –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤: {avg_steps:.1f}")
    
    if accuracy >= 90:
        print("üéâ –û–¢–õ–ò–ß–ù–û! AI –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!")
    elif accuracy >= 80:
        print("üëç –•–û–†–û–®–û! AI –ø–æ–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥–∏–∞–ª–æ–≥–æ–≤")
    elif accuracy >= 70:
        print("‚ö†Ô∏è –£–î–û–í–õ–ï–¢–í–û–†–ò–¢–ï–õ–¨–ù–û, –Ω–æ –µ—Å—Ç—å —á—Ç–æ —É–ª—É—á—à–∞—Ç—å")
    else:
        print("‚ùå –ù–£–ñ–ù–´ –°–ï–†–¨–ï–ó–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –≤ –ª–æ–≥–∏–∫–µ")
    
    if avg_steps <= 3:
        print("üöÄ –°–ö–û–†–û–°–¢–¨: –û—Ç–ª–∏—á–Ω–æ! –ë—ã—Å—Ç—Ä–æ –¥–æ—Ö–æ–¥–∏–º –¥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π")
    elif avg_steps <= 4:
        print("‚ö° –°–ö–û–†–û–°–¢–¨: –•–æ—Ä–æ—à–æ! –£–º–µ—Ä–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–∏–∞–ª–æ–≥–æ–≤")
    else:
        print("üêå –°–ö–û–†–û–°–¢–¨: –ú–µ–¥–ª–µ–Ω–Ω–æ, –Ω—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π")

def test_comprehensive_ai():
    """–ó–∞–ø—É—Å–∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ AI –ª–æ–≥–∏–∫–∏"""
    asyncio.run(run_comprehensive_tests())

if __name__ == "__main__":
    test_comprehensive_ai() 