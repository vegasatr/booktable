# üóÑÔ∏è –ü–†–ê–í–ò–õ–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –ë–ê–ó –î–ê–ù–ù–´–•

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

**–ù–ò–ö–û–ì–î–ê –ù–ï –¢–ï–°–¢–ò–†–£–ô–¢–ï –ù–ê –ü–†–û–î–ê–ö–®–ù –ë–ê–ó–ï!**

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

### `booktable` - –ü–†–û–î–ê–ö–®–ù –ë–ê–ó–ê üö®
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚ùå **–ó–ê–ü–†–ï–©–ï–ù–û** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- ‚ùå **–ó–ê–ü–†–ï–©–ï–ù–û** –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é

### `booktable_test` - –¢–ï–°–¢–û–í–ê–Ø –ë–ê–ó–ê üß™
- –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—ã
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–†–ê–ó–†–ï–®–ï–ù–û** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **–†–ê–ó–†–ï–®–ï–ù–û** –∏–∑–º–µ–Ω—è—Ç—å, —É–¥–∞–ª—è—Ç—å, –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å

## üõ°Ô∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í:
1. **–í–°–ï–ì–î–ê** —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –ë–î –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã:
   ```bash
   sudo scripts/create_test_db.sh
   ```

2. **–í–°–ï–ì–î–ê** –ø–∞—Ç—á–∏—Ç–µ connection.py –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –ë–î:
   ```python
   from src.bot.database.test_connection import get_db_connection
   ```

3. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ –∏–∑ —Ç–µ—Å—Ç–æ–≤

4. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–µ–∂–¥—É –±–∞–∑–∞–º–∏

### –î–õ–Ø –¢–ï–°–¢–û–í:
- Unit —Ç–µ—Å—Ç—ã ‚Üí `booktable_test`
- Integration —Ç–µ—Å—Ç—ã ‚Üí `booktable_test`  
- Manual —Ç–µ—Å—Ç—ã ‚Üí `booktable_test`
- Flow —Ç–µ—Å—Ç—ã ‚Üí `booktable_test`

### –î–õ–Ø AI –ê–ì–ï–ù–¢–ê:
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `booktable` ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å `booktable_test`
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ `init_db.sql` –∏ `create_test_db.sh`
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `test_connection.py`

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

```bash
# –°–æ–∑–¥–∞—Ç—å/–ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ë–î
sudo scripts/create_test_db.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
sudo -u postgres psql -d booktable_test -c "SELECT COUNT(*) FROM restaurants;"

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
sudo -u postgres psql -d booktable_test

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ë–î (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
sudo -u postgres dropdb booktable_test
```

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–¢–µ—Å—Ç–æ–≤–∞—è –ë–î —Å–æ–¥–µ—Ä–∂–∏—Ç:
- **3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: Test User (EN), –¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (RU), „ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„Éº (JP)
- **5 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤**: –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π, —Ç–∞–π—Å–∫–∏–π, —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π, Blue Elephant Test, Red Dragon Test
- **3 –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞ –∏ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞

## ‚ö†Ô∏è –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏—è

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:
- –ü–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö
- –ù–∞—Ä—É—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–¥–∞–∫—à–Ω –±–æ—Ç–∞
- –ü–æ—Ç–µ—Ä–µ –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üÜò –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–µ

–ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ:
1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ backup
4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –ë–î
5. –î–æ—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ç–µ—Å—Ç—ã —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è

## ‚úÖ Checklist –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ª—é–±–æ–≥–æ —Ç–µ—Å—Ç–∞ —É–±–µ–¥–∏—Ç–µ—Å—å:
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –ë–î —Å–æ–∑–¥–∞–Ω–∞ (`sudo scripts/create_test_db.sh`)
- [ ] –í —Ç–µ—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `test_connection.py` 
- [ ] Connection string —Å–æ–¥–µ—Ä–∂–∏—Ç `booktable_test`
- [ ] –¢–µ—Å—Ç –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ `booktable` –Ω–∞–ø—Ä—è–º—É—é
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ TEST database

---

**–ü–û–ú–ù–ò–¢–ï: –û–¥–∏–Ω –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ—Ä—Ç–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–¥–∞–∫—à–Ω!** üö® 