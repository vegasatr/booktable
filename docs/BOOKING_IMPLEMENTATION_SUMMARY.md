# ‚úÖ –ú–û–î–£–õ–¨ –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø - –†–ï–ê–õ–ò–ó–û–í–ê–ù

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó:

‚úÖ **–î–≤–∞ –ø—É—Ç–∏ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é:**
- –ö–Ω–æ–ø–∫–∞ –†–ï–ó–ï–†–í (1 —Ä–µ—Å—Ç–æ—Ä–∞–Ω ‚Üí —Å—Ä–∞–∑—É –∫ –≤—Ä–µ–º–µ–Ω–∏, –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Üí –≤—ã–±–æ—Ä —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞)
- –°–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º –Ω–∞–º–µ—Ä–µ–Ω–∏—è

‚úÖ **–ü–æ–ª–Ω—ã–π flow –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –†–µ—Å—Ç–æ—Ä–∞–Ω ‚Üí –í—Ä–µ–º—è ‚Üí –ì–æ—Å—Ç–∏ ‚Üí –î–∞—Ç–∞ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–≤–æ–¥—ã –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ AI –ø–∞—Ä—Å–∏–Ω–≥
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
- –¢–∞–±–ª–∏—Ü–∞ `bookings` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏
- –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (pending/confirmed/cancelled)
- –°–≤—è–∑–∫–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤

‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã:**
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:
- `src/bot/managers/booking_manager.py` - BookingManager –∫–ª–∞—Å—Å
- `src/bot/handlers/booking_handlers.py` - Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- `src/bot/database/bookings.py` - –†–∞–±–æ—Ç–∞ —Å –ë–î

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- `tests/unit/test_booking_manager.py` - Unit —Ç–µ—Å—Ç—ã (15 —Ç–µ—Å—Ç–æ–≤)
- `tests/unit/test_database_bookings.py` - Database —Ç–µ—Å—Ç—ã (15 —Ç–µ—Å—Ç–æ–≤)  
- `tests/integration/test_booking_integration.py` - Integration —Ç–µ—Å—Ç—ã (8 —Ç–µ—Å—Ç–æ–≤)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `docs/BOOKING_MODULE.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è
- `agent.md` - –û–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∞–≤–∏–ª–æ–º #11 –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

### –°–æ–æ–±—â–µ–Ω–∏—è:
- `messages/base_messages.txt` - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

‚úÖ **main.py –æ–±–Ω–æ–≤–ª–µ–Ω:**
- –ò–º–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è callback handlers —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ patterns
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—é `talk()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–π

‚úÖ **Callback patterns:**
```
^book_restaurant$          # –ö–Ω–æ–ø–∫–∞ –†–ï–ó–ï–†–í
^book_restaurant_\d+$      # –í—ã–±–æ—Ä —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É
^book_time_                # –í—Ä–µ–º—è (–≤–∫–ª—é—á–∞—è custom)
^book_guests_\d+$          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π
^book_date_                # –î–∞—Ç–∞ (–≤–∫–ª—é—á–∞—è custom)
```

## üß™ Comprehensive Testing

**–ò—Ç–æ–≥–æ: 38 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤** –ø–æ–∫—Ä—ã–≤–∞—é—â–∏—Ö:

### Unit Tests (30 —Ç–µ—Å—Ç–æ–≤):
- BookingManager –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É
- Database –æ–ø–µ—Ä–∞—Ü–∏–∏ (save/get/update)
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –≤–≤–æ–¥–æ–≤
- Edge cases –∏ –æ—à–∏–±–∫–∏

### Integration Tests (8 —Ç–µ—Å—Ç–æ–≤):
- –ü–æ–ª–Ω—ã–π flow —Å –æ–¥–Ω–∏–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º  
- –í—ã–±–æ—Ä –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤—Ä–µ–º—è –∏ –¥–∞—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∂–µ–ª–∞–Ω–∏–π
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —á–∞—Ç–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î

## üé® UI/UX Features

‚úÖ **–£–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –≤—Ä–µ–º–µ–Ω–∏:**
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ +15 –º–∏–Ω
- 4 —Å–ª–æ—Ç–∞ –ø–æ 30 –º–∏–Ω—É—Ç + –∫–Ω–æ–ø–∫–∞ "–î–†–£–ì–û–ï"

‚úÖ **AI –ø–∞—Ä—Å–∏–Ω–≥:**
- "–ø–æ–ª–æ–≤–∏–Ω–∞ –≤–æ—Å—å–º–æ–≥–æ –≤–µ—á–µ—Ä–∞" ‚Üí 19:30
- "–∑–∞–≤—Ç—Ä–∞" ‚Üí –¥–∞—Ç–∞
- "next Friday" ‚Üí –¥–∞—Ç–∞

‚úÖ **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å:**
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ translate_message()
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 120+ —è–∑—ã–∫–æ–≤

## üîó –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

‚úÖ **–°—Ö–µ–º–∞ –≥–æ—Ç–æ–≤–∞:**
- –¢–∞–±–ª–∏—Ü–∞ `bookings` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ init_db.sql
- –í—Å–µ –ø–æ–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó
- –°–≤—è–∑–∫–∏ —Å —Ç–∞–±–ª–∏—Ü–µ–π `restaurants` —á–µ—Ä–µ–∑ booking_contact

## üì® –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

‚úÖ **–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω:**
```
–ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç BookTable
–ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏: 123
–ò–º—è: John Doe  
–î–∞—Ç–∞: 15.06.2024
–í—Ä–µ–º—è: 19:30
–ì–æ—Å—Ç–µ–π: 2
–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä: Telegram
–ö–æ–Ω—Ç–∞–∫—Ç: @johndoe
–ï—Å–ª–∏ –±—É–¥—É—Ç –æ—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è, —è –Ω–∞–ø–∏—à—É –ø–æ–∑–∂–µ
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ú–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω:

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ `scripts/start_bot.sh`
2. –ù–∞–π—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã 
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –†–ï–ó–ï–†–í
4. –ü—Ä–æ–π—Ç–∏ –≤–µ—Å—å flow –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

## üìã TODO (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- [ ] –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è)
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ working_hours –∏–∑ JSONB
- [ ] WhatsApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –û—Ç–º–µ–Ω–∞/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π 